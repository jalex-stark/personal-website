jQuery(document).ready(function(a){if(!a("body").hasClass("bavoko-seo-tools-wrapper")){function o(){}a("body").addClass("bavoko-seo-tools-wrapper"),a(window).scroll(function(){o()}),a(".wp-submenu.wp-submenu-wrap").each(function(o){a(this).hover(function(){a(this).css({top:"0px"})},function(){a(this).css({top:""})})}),o()}window.wsko_show_admin_modal=function(o,e){var t=a("#wsko_modal_general");t.modal("show"),0!=o&&t.find(".modal-title").html(o),t.find(".modal-msg").html(e)},window.wsko_init_admin=function(){a(".wsko-open-modal:not(.wsko-m-init)").addClass("wsko-m-init").click(function(o){o.preventDefault();var e=a(this),t=a("#wsko_modal_general");if(e.data("modal-ajax")){t.find(".modal-title").html(e.data("modal-title")),t.find("#wsko_modal_general_wrapper").removeClass().addClass("modal-dialog").addClass(e.data("modal-class")),$loader=window.wsko_set_element_ajax_loader(e);var s=e.data("modal-data");s||(s={}),s.action=e.data("modal-ajax"),s.nonce=e.data("modal-nonce"),window.wsko_post_element(s,function(a){if(a.success)return window.wsko_show_admin_modal(!!a.title&&a.title,a.view),window.wsko_add_element_ajax_result(e,!0),!0},function(){},e,!1)}else window.wsko_show_admin_modal(e.data("modal-title"),e.data("modal-content"));window.wsko_init_admin()}),a(".wsko-close-modal-inline:not(.wsko-m-init)").addClass("wsko-m-init").click(function(o){o.preventDefault(),a(this).closest(".modal").modal("hide")}),a(".wsko-load-lazy-page:not(.wsko-init)").addClass("wsko-init").click(function(o){o.preventDefault();var e=a(this),t=e.data(),s={};a.each(t,function(a,o){a.startsWith("wskoPost")&&(s[a.substr(8).toLowerCase()]=o)}),window.wsko_load_lazy_page(e.data("controller"),e.data("subpage"),e.data("subtab"),e.attr("href")+(e.data("subtab")?"&showtab="+e.data("subtab"):""),s,!1)}),a(".wsko-admin-timespan-picker-form:not(.wsko-init)").addClass("wsko-init").each(function(o){var e=a(this),t=e.find(".wsko-start-time"),s=e.find(".wsko-end-time");e.submit(function(o){o.preventDefault(),window.wsko_post_element({wsko_controller:wsko_admin_data.controller,wsko_controller_sub:wsko_admin_data.subpage,start_time:t.val(),end_time:s.val(),action:"wsko_set_timespan",nonce:wsko_admin_data.timespan_nonce},function(o){o.success&&a(document).trigger("wsko_event_timespan_set")},!1,e.find(".wsko-loader"),!0)}),e.find(".wsko-admin-timespan-picker").daterangepicker({startDate:moment.unix(parseInt(wsko_admin_data.timespan_start)).startOf("day"),endDate:moment.unix(parseInt(wsko_admin_data.timespan_end)).startOf("day"),maxDate:moment().startOf("day").subtract(3,"days"),ranges:{"Last 7 Days":[moment().startOf("day").subtract(9,"days"),moment().startOf("day").subtract(3,"days")],"Last 28 Days":[moment().startOf("day").subtract(30,"days"),moment().startOf("day").subtract(3,"days")],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]}}).on("apply.daterangepicker",function(o,e){var n=a(this);wsko_admin_data.timespan_start=e.startDate.unix(),wsko_admin_data.timespan_end=e.endDate.unix(),n.find(".wsko-timespan-label").html(e.startDate.format("MMMM D, YYYY")+" - "+e.endDate.format("MMMM D, YYYY")),t.val(wsko_admin_data.timespan_start),s.val(wsko_admin_data.timespan_end),n.parents(".wsko-admin-timespan-picker-form").submit()}),e.find(".wsko-timespan-label").html(moment.unix(wsko_admin_data.timespan_start).format("MMMM D, YYYY")+" - "+moment.unix(wsko_admin_data.timespan_end).format("MMMM D, YYYY")),t.val(wsko_admin_data.timespan_start),s.val(wsko_admin_data.timespan_end)}),a(".wsko-give-feedback:not(.wsko-init)").addClass("wsko-init").click(function(o){o.preventDefault();a(this);var e=a("#wsko_modal_feedback").modal("show");e.find(".wsko-feedback-msg").val(""),e.find(".wsko-feedback-title").val("")}),a(".wsko-pro-modal-link:not(.wsko-init)").addClass("wsko-init").click(function(o){o.preventDefault(),$modal=a("#wsko_pro_modal_wrapper").modal("show")}),a(".wsko-give-rating:not(.wsko-init)").addClass("wsko-init").click(function(o){o.preventDefault();a(this),a("#wsko_modal_rating").modal("show")}),a(".wsko-import-plugin:not(.wsko-init)").addClass("wsko-init").click(function(o){o.preventDefault();var e=a(this),t=e.closest(".wsko-import-plugin-wrapper"),s=[];t.find(".wsko-import-plugin-option:checked").each(function(o){s.push(a(this).val())}),s.length?window.wsko_post_element({plugin:t.data("plugin"),options:s,nonce:t.data("nonce"),action:"wsko_import_plugin"},function(a){a.success&&window.wsko_show_admin_modal(a.report_title,a.report)},!1,e,!1):window.wsko_notification(!1,window.wsko_text("import_invalid"),"")}),a(".wsko-admin-request-api-access:not(.wsko-init)").addClass("wsko-init").submit(function(o){o.preventDefault();var e=a(this),t=e.find(".wsko-token-field").val(),s=e.data("api");e.closest(".wsko-settings-api-box").find(".wsko-api-login-help-box").hide(),e.closest(".wsko-settings-api-box").find(".wsko-api-login-help-box-custom").hide().html(""),t&&window.wsko_post_element({action:"wsko_request_api_access",code:t,type:s,nonce:e.data("nonce")},function(a){a.success?a.view&&e.closest(".wsko-settings-api-wrapper").replaceWith(a.view):a.err_view?e.closest(".wsko-settings-api-box").find(".wsko-api-login-help-box-custom").show().html(a.err_view):e.closest(".wsko-settings-api-box").find(".wsko-api-login-help-box").show()},!1,e.find(".wsko-request-btn"),!1)}),a("#wsko_reset_configuration:not(.wsko-init)").addClass("wsko-init").click(function(o){var e=a(this);confirm(window.wsko_text("delete_cfg_confirm"))&&window.wsko_post_element({action:"wsko_reset_configuration",delete_metas:a("#wsko_reset_opt_metas").is(":checked"),delete_cache:a("#wsko_reset_opt_cache").is(":checked"),delete_redirects:a("#wsko_reset_opt_redirects").is(":checked"),delete_backups:a("#wsko_reset_opt_backups").is(":checked"),nonce:e.data("nonce")},!1,!1,e,!0)}),a("#wsko_modal_feedback .wsko-feedback-type-btn input").change(function(){a(this).is(":checked")&&("1"==a(this).val()?a("#wsko_modal_feedback").find(".wsko-support-options").show():a("#wsko_modal_feedback").find(".wsko-support-options").hide())});var o=[];a(".wsko-ajax-url-field:not(.wsko-ajax-loaded)").each(function(e){var t=a(this);0==t.parents(".wsko_tables").length&&(o.includes(t.data("url"))||o.push(t.data("url")),t.addClass("wsko-ajax-load"))}),o.length>0&&window.wsko_post_element({action:"wsko_resolve_url",urls:o,nonce:wsko_admin_data.resolve_nonce},function(o){return o.success?a.each(o.urls,function(o,e){a('.wsko-ajax-url-field.wsko-ajax-load[data-url="'+o+'"]').html(e.title).removeClass("wsko-ajax-load").addClass("wsko-ajax-loaded")}):a(".wsko-ajax-url-field.wsko-ajax-load").html('<p style="color:red">'+window.wsko_text("resolve_error")+"</p>").removeClass("wsko-ajax-load").addClass("wsko-ajax-loaded"),!0},function(){return a(".wsko-ajax-url-field.wsko-ajax-load").html('<p style="color:red">'+window.wsko_text("resolve_error")+"</p>").removeClass("wsko-ajax-load").addClass("wsko-ajax-loaded"),!0},!1,!1),a(".wsko-metas-bulk-collapse:not(.wsko_init)").addClass("wsko_init").each(function(o){var e=a(this);e.click(function(a){a.preventDefault(),e.closest(".wsko-set-metas-wrapper").find("ul.wsko-tabs-social-snippets").toggle();var o=e.html();e.html(e.data("toggle-heading")),e.data("toggle-heading",o)})}),a(".wsko-onpage-prem-freq:not(.wsko-init)").addClass("wsko-init").change(function(o){o.preventDefault();var e=a(this),t=e.val(),s=e.closest(".wsko-onpage-prem-freq-wrapper");if(t>200?s.find(".wsko-onpage-prem-freq-warning").show():s.find(".wsko-onpage-prem-freq-warning").hide(),t<=0&&(t=100),t<=50)e.val(50).change();else{var n=parseInt(e.data("ref"))/t;s.find(".wsko-onpage-prem-freq-text").html(n>60?Math.round(n/60,2)+" h":Math.round(n,2)+" min")}}).change(),window.wsko_init_misc_widgets(),a(document).trigger("wsko_init_page")},a(".mobile-nav-toggle").click(function(){a(".wsko_wrapper.wsko-mobile-nav.active").length>0?a(".mobile-nav-toggle i").removeClass("fa-times").addClass("fa-bars"):a(".mobile-nav-toggle i").removeClass("fa-bars").addClass("fa-times"),a(".wsko_wrapper.wsko-mobile-nav").toggleClass("active")}),a(".wsko-toggle-help").click(function(){$modal=a(".wsko-help-wrapper"),$chat=a("#tidio-chat"),"none"===$modal.css("display")?($modal.fadeIn(),$chat.addClass("help-active").show()):($modal.fadeOut(),$chat.removeClass("help-active"))}),a("#wsko_feedback_form").submit(function(o){o.preventDefault();var e=a(this),t=e.find(".wsko-feedback-submit"),s=e.find(".wsko-feedback-name").val(),n=e.find(".wsko-feedback-email").val(),i=e.find(".wsko-feedback-title").val(),d=e.find(".wsko-feedback-msg").val(),l=e.find(".wsko-feedback-reports").is(":checked"),w=a(".wsko-feedback-type input:checked").val();w&&n&&i&&d&&window.wsko_post_element({action:"wsko_send_feedback",name:s,email:n,title:i,message:d,append_reports:l,type:w,nonce:wsko_admin_data.feedback_nonce},function(o){if(o.success)return a("#wsko_modal_feedback").modal("hide"),window.wsko_notification(!0,"Message sent. Thank you!",""),!0;a("#wsko_modal_feedback .wsko-feedback-notices").html(o.help_notice)},!1,t,!1)}),a(window).on("scroll",function(){var o=a(document).height(),e=(a(window).height(),a(window).height()+a(window).scrollTop());a("#adminmenuwrap").height();!a("#tidio-chat").hasClass("help-active")&&(o-e)/o<.01?a("#tidio-chat").hide():a("#tidio-chat").show()}),a('input[type="range"]').change(function(){$val=a(this).val(),a(this).closest(".range-field").find(".text").html($val)}),a(".wsko-admin-main-navbar-item .panel-heading a").click(function(a){a.preventDefault()}),window.wsko_get_controller=function(){return{wsko_controller:wsko_admin_data.controller,wsko_controller_sub:wsko_admin_data.subpage}},window.wsko_get_ssl=function(){return wsko_admin_data.ssl_enabled},window.wsko_reload_lazy_page=function(){window.wsko_load_lazy_page(wsko_admin_data.controller,wsko_admin_data.subpage,!1,!1,!1,!0)},window.wsko_load_lazy_page=function(o,e,t,s,n,i){window.wsko_is_in_page_load&&(window.wsko_is_in_page_load_double=!0),window.wsko_is_in_page_load=!0,a.wskoXhrPool.abortAll(),window.wsko_is_in_page_load_double=!1,a("#wsko_admin_view_loading").show();var d=[];i&&a(".tab-pane").each(function(o){var e=a(this);d.push({id:e.attr("id"),active:e.hasClass("active")})});var l={wsko_controller:o,wsko_controller_sub:e,showtab:t,action:"wsko_load_lazy_page",nonce:wsko_admin_data.lazy_page_nonce};n&&a.extend(l,n),window.wsko_post_element(l,function(t){return window.wsko_is_in_page_load=!1,t.success?(a("#wsko_admin_view_loading").hide(),a(document).off("wsko_init_page wsko_event_timespan_set"),wsko_admin_data.controller=o,wsko_admin_data.subpage=e,s&&window.history.replaceState({},t.tab_title,s),document.title=t.tab_title,a(".wsko-admin-main-navbar-sub-panel").removeClass("wsko-active"),a(".wsko-admin-main-navbar-item").removeClass("wsko-active"),a('.wsko-admin-main-navbar-item[data-link="'+o+'"]').addClass("wsko-active").find(".wsko-admin-main-navbar-sub-panel").addClass("wsko-active"),a(".wsko-admin-main-sub-navbar-item").removeClass("wsko-active"),a('.wsko-admin-main-sub-navbar-item[data-link="'+o+"_"+e+'"]').addClass("wsko-active"),a("#wsko_main_title").html(t.title),a("#wsko_main_breadcrumb").html(t.breadcrumb),a("#wsko_help_breadcrumb").html(t.breadcrumb),a("#wsko_admin_view_header_wrapper").html(t.header),a("#wsko_admin_view_notification_wrapper").html(t.notif),a("#wsko_admin_view_wrapper").html(t.view),a("#wsko_admin_view_content_footer_wrapper").html(t.footer),a("#wsko_admin_view_script_wrapper").html(t.scripts),a("#wsko_admin_ajax_notifications").html(""),a("html").scrollTop(0),i&&a.each(d,function(o,e){e.active?(a('.nav-tabs a[href="#'+e.id+'"]').closest("li").addClass("active"),a("#"+e.id).addClass("in active")):(a('.nav-tabs a[href="#'+e.id+'"]').closest("li").removeClass("active"),a("#"+e.id).removeClass("in active"))}),window.wsko_reload_help_content()):(s?window.location.href=s:window.location.reload(!0),window.wsko_reload_help_content()),!0},function(){return s?window.location.href=s:window.location.reload(!0),!0},!1,!1)},window.wsko_load_lazy_page_widget=function(o,e,t,s,n,i){var d={wsko_controller:o,wsko_controller_sub:e,showtab:t,widget:!0,action:"wsko_load_lazy_page",nonce:wsko_admin_data.lazy_page_nonce};s&&a.extend(d,s),window.wsko_post_element(d,n,i,!1,!1)},window.wsko_load_lazy_data=function(a,o,e,t){window.wsko_load_lazy_data_for_controller(a,wsko_admin_data.controller,wsko_admin_data.subpage,o,e,t)},window.wsko_reload_help_content=function(){var o=a("#wsko_admin_view_help_wrapper");o&&o.length&&(o.html(""),window.wsko_post_element({action:"wsko_get_help_content",wsko_controller:wsko_admin_data.controller,wsko_controller_sub:wsko_admin_data.subpage,nonce:wsko_admin_data.get_help_content_nonce},function(a){return a.view?o.html(a.view):o.html(window.wsko_text("undefined_error")),!0},function(){return o.html(window.wsko_text("server_error")),!0},o,!1))},window.wsko_reload_help_content()});